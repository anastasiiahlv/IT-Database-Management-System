<UserControl x:Class="DatabaseDesktopClient.Views.TableView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White"
             Loaded="UserControl_Loaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок та панель сортування -->
        <Border Grid.Row="0" 
                Background="#E3F2FD" 
                Padding="15"
                Margin="0,0,0,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Назва таблиці -->
                <TextBlock Grid.Row="0"
                          x:Name="TableNameText"
                          FontSize="24" 
                          FontWeight="Bold"
                          Margin="0,0,0,15"/>

                <!-- Панель сортування -->
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" 
                              Text="🔽 Сортування:" 
                              FontSize="14"
                              FontWeight="SemiBold"
                              VerticalAlignment="Center"
                              Margin="0,0,10,0"/>

                    <ComboBox Grid.Column="1"
                             x:Name="SortColumnComboBox"
                             Height="35"
                             VerticalContentAlignment="Center"
                             Margin="0,0,10,0"/>

                    <CheckBox Grid.Column="2"
                             x:Name="SortAscendingCheckBox"
                             Content="За зростанням"
                             IsChecked="True"
                             VerticalAlignment="Center"
                             Margin="0,0,15,0"/>

                    <Button Grid.Column="3"
                           Content="⬆️ Сортувати"
                           Click="Sort_Click"
                           Width="120"
                           Height="35"
                           Background="#4CAF50"
                           Margin="0,0,10,0"/>

                    <Button Grid.Column="5"
                           Content="🔄 Оновити"
                           Click="Refresh_Click"
                           Width="100"
                           Height="35"/>
                </Grid>
            </Grid>
        </Border>

        <!-- DataGrid з даними -->
        <Border Grid.Row="1" 
                BorderBrush="#E0E0E0" 
                BorderThickness="1"
                Margin="0,0,0,10">
            <DataGrid x:Name="DataGridView"
                     AutoGenerateColumns="False"
                     CanUserAddRows="False"
                     CanUserDeleteRows="False"
                     SelectionMode="Single"
                     AlternatingRowBackground="#F5F5F5"
                     GridLinesVisibility="Horizontal"
                     HeadersVisibility="Column"
                     IsReadOnly="True"
                     MouseDoubleClick="DataGrid_DoubleClick"/>
        </Border>

        <!-- Панель керування -->
        <Border Grid.Row="2" 
                Background="White" 
                Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Кнопки дій -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <Button Content="➕ Додати рядок"
                           Click="AddRow_Click"
                           Width="140"
                           Height="40"
                           Style="{StaticResource AddButton}"/>

                    <Button Content="✏️ Редагувати"
                           Click="EditRow_Click"
                           Width="130"
                           Height="40"/>

                    <Button Content="🗑️ Видалити"
                           Click="DeleteRow_Click"
                           Width="120"
                           Height="40"
                           Style="{StaticResource DeleteButton}"/>
                </StackPanel>

                <!-- Статус -->
                <TextBlock Grid.Column="2"
                          x:Name="RowCountText"
                          VerticalAlignment="Center"
                          FontSize="14"
                          Foreground="#616161"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>